<script src='/public/js/post.js'></script>
<main class='is-fullhd fill page-height parallax vegetable-bg'>
    <div class='container content box recipe-view'>
        <h1 class='title' id='recipe-name'>{{post.title}}</h1>
        <h5 class='subtitle'> By <a href='/user/{{post.user}}'>{{post.user}}</a> <span id='post-date'>{{formatDate post.date}}</span></h5>

        <div class='columns post-header'>
            <div class='column is-1 vote-header'>
                <i class='fas fa-chevron-up fa-2x upvote'></i>
                <strong id='votes'>{{sum}}</strong>
                <i class='fas fa-chevron-down fa-2x downvote'></i>
            </div>

            {{#if session._id}}
                <div class='modal' id='modal-body'>
                <div class='modal-background'></div>
                <div class='modal-card'>
                    <header class='modal-card-head'>
                        <p class='modal-card-title'>Sign up to vote!</p>
                        <button class='delete' aria-label='close' id='close'></button>
                    </header>
                    <section class='modal-card-body'>
                        Log-in or register to vote on posts and see more recipes.
                        Join our community to improve your cooking skills and interact with other chefs
                        around the globe!
                    </section>
                    <footer class='modal-card-foot'>
                        <a class='button is-primary' href='/signup'><strong>Sign up</strong></a>
                        <a class='button' href='/login'>Log in</a>
                    </footer>
                </div>
            </div>
            {{/if}}

            <div class='column slider'>
                <!-- Inner columns -->
                <div class='columns' id='food-pic'
                     style='background: url("/public/img/foodelicious_asian_coleslaw1.jpg")'>
                    <div class='column is-1'>
                        <i class='fas fa-chevron-circle-left fa-3x' id='left'></i>
                    </div>

                    <div class='column center'>
                        <nav class='pagination is-centered is-rounded' role='navigation' aria-label='pagination'>
                            <ul class='pagination-list'>
                                <li><a class='pagination-link is-current' aria-label='image 1' aria-current='page'></a>
                                </li>
                                <li><a class='pagination-link' aria-label='image 2'></a></li>
                                <li><a class='pagination-link' aria-label='image 3'></a></li>
                                <li><a class='pagination-link' aria-label='image 4'></a></li>
                            </ul>
                        </nav>
                    </div>

                    <div class='column is-1'>
                        <i class='fas fa-chevron-circle-right fa-3x' id='right'></i>
                    </div>

                </div>
            </div>
        </div>

        <h3 class='title'>Description</h3>
        <p class='content'>
            {{post.desc}}
        </p>

        <h3 class='title'>Ingredients</h3>
        <ul class='content' id='ingredient-list'>
            {{#each post.ingredient}}
                <li><input type='checkbox' id='{{@index}}'><label for='{{@index}}'>{{this}}</label></li>
            {{/each}}
        </ul>

        <h3 class='title'>Directions</h3>
        <ol class='content'>
            {{#each post.direction}}
                <li>{{this}}</li>
            {{/each}}
        </ol>

        <h3 class='title'>Information</h3>
        <div class='content'>
            <p>
                Preparation time: {{parseMinToHHMM post.prep_time 0}}<br>
                Cooking time: {{parseMinToHHMM post.cook_time 0}}<br>
                Total time: {{parseMinToHHMM post.prep_time post.cook_time}}<br>
                Servings: {{post.serving}}
            </p>
        </div>

        <h3 class='title'>Comments</h3>
        <article class='media'>
            <figure class='media-left'>
                <p class='image is-64x64'>
                    <img class='is-rounded' src='/public/img/suzanne.jpg' alt='suzanne'>
                </p>
            </figure>
            <div class='media-content'>
                <div class='content'>
                    <p>
                        <strong>Suzanne</strong>
                        <br>
                        Wow, this is so good!
                        <br>
                        <small><a>Like</a> · <a>Reply</a> · 3 hrs</small>
                    </p>
                </div>

                <article class='media'>
                    <figure class='media-left'>
                        <p class='image is-48x48'>
                            <img class='is-rounded' src='/public/img/default_dp.jpg' alt='default'>
                        </p>
                    </figure>
                    <div class='media-content'>
                        <div class='content'>
                            <p>
                                <strong>MasterChef1001</strong>
                                <br>
                                I know, right? And it's so easy to prepare too.
                                <br>
                                <small><a>Like</a> · <a>Reply</a> · 2 hrs</small>
                            </p>
                        </div>
                    </div>
                </article>

                <article class='media'>
                    <figure class='media-left'>
                        <p class='image is-48x48'>
                            <img class='is-rounded' src='/public/img/foodelicious.jpg' alt='foodelicious'>
                        </p>
                    </figure>
                    <div class='media-content'>
                        <div class='content'>
                            <p>
                                <strong>foodelicious</strong>
                                <br>
                                Thanks for the support, guys!
                                <br>
                                <small><a>Like</a> · <a>Reply</a> · 2 hrs</small>
                            </p>
                        </div>
                    </div>
                </article>
            </div>
        </article>

        <article class='media'>
            <figure class='media-left'>
                <p class='image is-64x64'>
                    <img class='is-rounded' src='/public/img/esmee.jpg' alt='suzanne'>
                </p>
            </figure>
            <div class='media-content'>
                <div class='content'>
                    <p>
                        <strong>Esmee</strong>
                        <br>
                        Way too simple, but so deliciousss
                        <br>
                        <small><a>Like</a> · <a>Reply</a> · 1 hr</small>
                    </p>
                </div>

                <article class='media'>
                    <figure class='media-left'>
                        <p class='image is-48x48'>
                            <img class='is-rounded' src='/public/img/foodelicious.jpg' alt='default'>
                        </p>
                    </figure>
                    <div class='media-content'>
                        <div class='content'>
                            <p>
                                <strong>foodelicious</strong>
                                <br>
                                Glad to hear that, Esmee!
                                <br>
                                <small><a>Like</a> · <a>Reply</a> · 1 hr</small>
                            </p>
                        </div>
                    </div>
                </article>
            </div>
        </article>

        <article class='media'>
            <figure class='media-left'>
                <p class='image is-64x64'>
                    <img class='is-rounded' src='{{user.picture_path}}' alt='{{user._id}}'>
                </p>
            </figure>
            <div class='media-content'>
                <div class='field'>
                    <p class='control'>
                        <textarea class='textarea has-fixed-size' placeholder='Add a comment...'></textarea>
                    </p>
                </div>
                <div class='field'>
                    <p class='control'>
                        <button class='button'>Post comment</button>
                    </p>
                </div>
            </div>
        </article>
    </div>
</main>